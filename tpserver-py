#!/usr/bin/env python

import requirements
import config

from twisted.internet import reactor, ssl
from OpenSSL import SSL

from tp.server.server import ThousandParsecServerFactory
from tp.server.logging import Logger

class ClientTLSContext( ssl.ClientContextFactory ):
        method = SSL.TLSv1_METHOD

def main():
	tp_port = 6923
	tps_port = 6924

	logger = Logger()
	logger.start()

	factory = ThousandParsecServerFactory()
	factory.port = reactor.listenTCP( tp_port, factory )
	#factory.portSSL = reactor.listenSSL( tps_port, factory, ssl.ClientContextFactory() )
	reactor.run()


if __name__ == "__main__":
	main()

