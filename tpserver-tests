#!/usr/bin/env python

import sys

sys.path.insert(0, '.')
sys.path.insert(0, 'tests')
sys.path.insert(0, 'libtpproto2-py')

from twisted.internet import reactor, ssl
from OpenSSL import SSL

from client import ThousandParsecClientFactory
from tp.server.logging import Logger

class ClientTLSContext( ssl.ClientContextFactory ):
	method = SSL.TLSv1_METHOD

def main():
	logger = Logger()
	logger.start()

	factory = ThousandParsecClientFactory()
	reactor.connectTCP( "localhost", 6923, factory )
	#reactor.connectSSL( "localhost", 6924, factory, ssl.ClientContextFactory() )
	reactor.run()

if __name__ == '__main__':
	main()
